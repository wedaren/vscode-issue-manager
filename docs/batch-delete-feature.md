# 孤立问题批量删除功能

## 功能概述

为孤立问题视图添加了批量删除功能，允许用户一次性删除多个孤立问题文件。

## 主要变更

### 1. package.json 配置更改

#### 新增命令
- `issueManager.batchDeleteIssues`: 批量删除选中的孤立问题

#### 视图配置更新
- 为孤立问题视图启用多选功能 (`canSelectMany: true`)
- 在视图标题栏添加批量删除按钮

#### 菜单配置
- 在孤立问题视图标题栏添加批量删除命令
- 保持原有的单个删除功能不变

### 2. extension.ts 实现

#### 核心功能
- 实现 `batchDeleteIssues` 命令
- 获取当前视图的多选项
- 类型安全的选择项验证
- 批量文件删除操作
- 详细的错误处理和用户反馈

#### 用户交互流程
1. 用户在孤立问题视图中多选问题（按住Ctrl/Cmd点击多个项目）
2. 点击视图标题栏的批量删除按钮
3. 系统显示确认对话框，列出要删除的文件
4. 用户确认后执行批量删除
5. 显示操作结果（成功/失败统计）

#### 安全特性
- 模态确认对话框防止误操作
- 逐个文件删除，单个失败不影响其他文件
- 详细的错误日志记录
- 友好的用户反馈信息

## 使用方法

1. 打开孤立问题视图
2. 按住 Ctrl (Windows/Linux) 或 Cmd (macOS) 键点击多个问题进行多选
3. 点击视图标题栏的"批量删除"按钮（垃圾桶图标）
4. 在确认对话框中查看要删除的文件列表
5. 点击"确认删除"执行批量删除操作

## 技术细节

### 类型安全
- 正确处理 TreeView selection 的联合类型 (`IssueTreeNode | IssueItem`)
- 使用类型守卫确保只处理有效的 IssueItem 实例
- 使用非空断言操作符安全访问已验证的属性

### 错误处理
- 验证选择项的有效性
- 逐个文件删除，单独处理每个文件的成功/失败
- 收集失败文件信息并展示给用户
- 控制台记录详细错误信息便于调试

### 用户体验
- 支持大量文件的简化显示（超过5个文件时显示省略号）
- 区分不同的操作结果（全部成功/部分成功/全部失败）
- 使用模态对话框防止意外操作

## 兼容性

- 保持与现有单个删除功能的兼容性
- 不影响其他视图的功能
- 遵循原有的交互设计模式

## 测试建议

1. 验证多选功能是否正常工作
2. 测试批量删除不同数量的文件
3. 测试部分文件删除失败的情况
4. 验证取消操作不会删除任何文件
5. 检查文件删除后视图是否自动刷新
