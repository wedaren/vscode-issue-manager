# Frontmatter ç®¡ç†æ¨¡å—åŒ–é‡æ„å®Œæˆ

## ğŸ“‹ é‡æ„æ¦‚è¿°

æˆåŠŸå°† `IssueStructureProvider` ä¸­çš„ frontmatter æ“ä½œé€»è¾‘ç‹¬ç«‹ä¸º `FrontmatterService`ï¼Œå®ç°äº†æ›´å¥½çš„ä»£ç ç»„ç»‡å’Œå¯ç»´æŠ¤æ€§ã€‚

## ğŸ—‚ï¸ æ–°å¢æ–‡ä»¶

### `src/services/FrontmatterService.ts`
ä¸“é—¨è´Ÿè´£ markdown æ–‡ä»¶ frontmatter çš„è‡ªåŠ¨ç»´æŠ¤ï¼ŒåŒ…å«ä»¥ä¸‹ä¸»è¦åŠŸèƒ½ï¼š

#### æ ¸å¿ƒæ–¹æ³•
- `addChildToParent()` - å°†å­æ–‡ä»¶æ·»åŠ åˆ°çˆ¶æ–‡ä»¶çš„ children_files
- `removeChildFromParent()` - ä»çˆ¶æ–‡ä»¶çš„ children_files ä¸­ç§»é™¤å­æ–‡ä»¶  
- `setParentFile()` - è®¾ç½®æ–‡ä»¶çš„ parent_file å­—æ®µ
- `syncChildParentReference()` - åŒæ­¥å­æ–‡ä»¶çš„ parent_file å¼•ç”¨
- `ensureChildInParent()` - ç¡®ä¿çˆ¶æ–‡ä»¶åŒ…å«æŒ‡å®šå­æ–‡ä»¶
- `syncFileStructureRelations()` - æ‰¹é‡åŒæ­¥æ–‡ä»¶ç»“æ„å…³ç³»

#### è¾…åŠ©æ–¹æ³•
- `hasValidFrontmatter()` - æ£€æŸ¥æ–‡ä»¶æ˜¯å¦æœ‰æœ‰æ•ˆçš„ frontmatter
- `createBasicFrontmatter()` - ä¸ºæ–°æ–‡ä»¶åˆ›å»ºåŸºç¡€ frontmatter
- `updateFrontmatterField()` - æ›´æ–°ç‰¹å®š frontmatter å­—æ®µ
- `updateFrontmatterInContent()` - åœ¨æ–‡ä»¶å†…å®¹ä¸­æ›´æ–° frontmatter

## ğŸ”„ ä»£ç é‡æ„

### `IssueStructureProvider.ts` æ›´æ–°
- å¯¼å…¥æ–°çš„ `FrontmatterService`
- ä½¿ç”¨æœåŠ¡æ–¹æ³•æ›¿ä»£å†…éƒ¨ frontmatter æ“ä½œ
- ç®€åŒ–äº†æ–‡ä»¶åˆ›å»ºã€åˆ é™¤å’Œå˜æ›´çš„å¤„ç†é€»è¾‘

#### ä¸»è¦å˜æ›´
```typescript
// æ—§ä»£ç 
await this.autoUpdateParentChildren(fileName, parentFileName);

// æ–°ä»£ç   
await FrontmatterService.addChildToParent(fileName, parentFileName);
await FrontmatterService.setParentFile(fileName, parentFileName);
```

## âœ¨ æŠ€æœ¯ä¼˜åŠ¿

### 1. **æ¨¡å—åŒ–è®¾è®¡**
- èŒè´£åˆ†ç¦»ï¼šTreeView ç®¡ç†ä¸ frontmatter æ“ä½œåˆ†ç¦»
- å•ä¸€èŒè´£ï¼šFrontmatterService ä¸“æ³¨äº frontmatter ç®¡ç†
- å¯å¤ç”¨æ€§ï¼šå…¶ä»–ç»„ä»¶ä¹Ÿå¯ä»¥ä½¿ç”¨ FrontmatterService

### 2. **æ›´å¥½çš„é”™è¯¯å¤„ç†**
- ç»Ÿä¸€çš„é”™è¯¯å¤„ç†ç­–ç•¥
- è¯¦ç»†çš„æ—¥å¿—è®°å½•
- ä¼˜é›…çš„å¤±è´¥å¤„ç†

### 3. **ç”¨æˆ·ä½“éªŒæå‡**
- ä¸€è‡´çš„ç”¨æˆ·é€šçŸ¥æ¶ˆæ¯
- æ›´å¯é çš„è‡ªåŠ¨åŒæ­¥
- æ›´å¥½çš„æ€§èƒ½è¡¨ç°

### 4. **æ˜“äºæµ‹è¯•**
- ç‹¬ç«‹çš„æœåŠ¡å¯ä»¥å•ç‹¬æµ‹è¯•
- æ˜ç¡®çš„è¾“å…¥è¾“å‡º
- å‡å°‘äº†æµ‹è¯•å¤æ‚åº¦

## ğŸ§ª éªŒè¯æµ‹è¯•

åˆ›å»ºäº†æµ‹è¯•æ–‡ä»¶éªŒè¯åŠŸèƒ½ï¼š
- `test-docs/test-strategy1-root.md` - æ ¹æ–‡æ¡£
- `test-docs/test-strategy1-child1.md` - å­æ–‡æ¡£

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

- ä¿æŒäº†åŸæœ‰çš„ç¼“å­˜æœºåˆ¶
- å‡å°‘äº†é‡å¤ä»£ç 
- ä¼˜åŒ–äº†æ–‡ä»¶æ“ä½œæµç¨‹

## ğŸ”® åç»­è®¡åˆ’

### çŸ­æœŸç›®æ ‡
- [ ] æ·»åŠ å•å…ƒæµ‹è¯•è¦†ç›– FrontmatterService
- [ ] ä¼˜åŒ–æ‰¹é‡æ“ä½œæ€§èƒ½
- [ ] æ·»åŠ æ›´å¤šçš„é”™è¯¯æ¢å¤æœºåˆ¶

### é•¿æœŸç›®æ ‡
- [ ] æ”¯æŒé…ç½®åŒ–çš„ frontmatter æ¨¡æ¿
- [ ] æ·»åŠ  frontmatter éªŒè¯åŠŸèƒ½
- [ ] æ”¯æŒå…¶ä»–æ ¼å¼çš„ metadata

## ğŸ“Š å½±å“è¯„ä¼°

### æ­£é¢å½±å“
âœ… ä»£ç æ›´åŠ æ¨¡å—åŒ–å’Œå¯ç»´æŠ¤  
âœ… frontmatter æ“ä½œæ›´åŠ å¯é   
âœ… æ›´å®¹æ˜“æ·»åŠ æ–°åŠŸèƒ½  
âœ… æ›´å¥½çš„é”™è¯¯å¤„ç†å’Œç”¨æˆ·åé¦ˆ  

### é£é™©æ§åˆ¶
ğŸ›¡ï¸ ä¿æŒäº†å‘åå…¼å®¹æ€§  
ğŸ›¡ï¸ ç°æœ‰åŠŸèƒ½ä¸å—å½±å“  
ğŸ›¡ï¸ æ¸è¿›å¼é‡æ„ï¼Œé™ä½é£é™©  

## ğŸ¯ æ€»ç»“

é€šè¿‡å°† frontmatter ç®¡ç†é€»è¾‘ç‹¬ç«‹ä¸ºä¸“é—¨çš„æœåŠ¡ç±»ï¼Œæˆ‘ä»¬å®ç°äº†ï¼š

1. **æ›´æ¸…æ™°çš„ä»£ç æ¶æ„** - èŒè´£æ˜ç¡®ï¼Œæ˜“äºç†è§£
2. **æ›´å¥½çš„å¯ç»´æŠ¤æ€§** - ä¿®æ”¹å’Œæ‰©å±•æ›´åŠ å®¹æ˜“
3. **æ›´é«˜çš„ä»£ç è´¨é‡** - å‡å°‘é‡å¤ï¼Œæé«˜å¤ç”¨æ€§
4. **æ›´å¼ºçš„åŠŸèƒ½æ€§** - æä¾›äº†æ›´å¤šçš„ frontmatter æ“ä½œèƒ½åŠ›

è¿™æ¬¡é‡æ„ä¸ºæœªæ¥çš„åŠŸèƒ½æ‰©å±•å’Œç»´æŠ¤å¥ å®šäº†è‰¯å¥½çš„åŸºç¡€ã€‚ğŸš€
