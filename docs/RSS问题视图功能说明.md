# RSS问题视图功能说明

## 功能概述

RSS问题视图是问题管理器插件的新功能，它允许用户：

1. **订阅RSS源**：添加、管理和删除RSS订阅源
2. **获取RSS内容**：自动获取RSS订阅源的最新文章
3. **转换为Markdown**：将RSS文章转换为Markdown格式并保存到问题目录
4. **集成到现有视图**：将RSS文章添加到关注问题视图或问题总览视图

## 主要特性

### 1. RSS订阅源管理
- 添加新的RSS订阅源（名称 + URL）
- 启用/禁用订阅源
- 删除订阅源
- 手动或自动更新订阅源

### 2. 双视图模式
- **订阅源视图**：显示所有RSS订阅源及其文章数量
- **文章视图**：按日期分组显示所有文章

### 3. 文章操作
- 点击文章直接在浏览器中打开原文链接
- 转换文章为Markdown格式并保存到问题目录
- 将文章添加到关注问题视图
- 将文章添加到问题总览视图

### 4. 自动更新
- 支持自动更新RSS订阅源
- 可配置更新间隔（默认60分钟）
- 在后台定期检查和更新

## 使用方法

### 配置RSS订阅源

1. 在RSS问题视图中点击"添加RSS订阅源"按钮（+图标）
2. 输入订阅源名称（如：技术博客）
3. 输入RSS订阅源URL（如：https://example.com/rss.xml）
4. 系统会自动验证RSS源的有效性

### 管理订阅源

- **启用/禁用**：右键点击订阅源，选择"启用/禁用订阅源"
- **更新**：右键点击订阅源，选择"更新订阅源"
- **删除**：右键点击订阅源，选择"删除订阅源"

### 处理文章

1. **查看文章**：点击文章标题在浏览器中打开原文
2. **转换为Markdown**：右键点击文章，选择"转换为Markdown"
3. **添加到关注问题**：右键点击文章，选择"添加到关注问题"
4. **添加到问题总览**：右键点击文章，选择"添加到问题总览"

### 切换视图模式

- 使用视图标题栏中的切换按钮在"订阅源视图"和"文章视图"之间切换
- 订阅源视图：树形结构显示每个订阅源及其文章
- 文章视图：按日期分组显示所有文章（今天、昨天、本周等）

## 配置项

可以在VS Code设置中配置以下选项：

### `issueManager.rss.enableAutoUpdate`
- 类型：boolean
- 默认值：true
- 说明：是否启用RSS订阅源的自动更新功能

### `issueManager.rss.defaultUpdateInterval`
- 类型：number
- 默认值：60
- 说明：RSS订阅源的默认更新间隔（单位：分钟）

### `issueManager.rss.feeds`
- 类型：array
- 默认值：[]
- 说明：RSS订阅源列表（内部配置项，通过界面操作管理）

## Markdown文件格式

转换后的Markdown文件包含以下信息：

```markdown
# 文章标题

**来源**: [订阅源名称](订阅源URL)

**原文链接**: [原文链接](原文链接)

**发布时间**: 2025年1月1日 12:00:00

**作者**: 作者名称

## 描述

文章描述内容...

## 标签

#RSS #订阅源名称

## 备注

```

## 技术实现

### 核心组件

1. **RSSService**：负责RSS订阅源管理、内容获取和解析
2. **RSSIssuesProvider**：提供RSS问题视图的数据和交互逻辑
3. **RSS相关命令**：处理用户操作（添加、删除、更新等）

### RSS解析

- 使用Node.js内置的`https`和`http`模块获取RSS内容
- 简单的正则表达式解析RSS XML格式
- 支持标准RSS 2.0格式

### 文件命名规则

生成的Markdown文件命名格式：
```
RSS-订阅源名称-文章标题-YYYYMMDD.md
```

- 自动清理文件名中的非法字符
- 限制文件名长度避免过长
- 添加日期确保唯一性

## 注意事项

1. RSS功能需要网络连接，请确保能够访问RSS订阅源URL
2. 某些RSS源可能有访问限制或需要特殊的User-Agent
3. 转换后的文章会自动添加到问题管理系统中，可以像普通问题一样管理
4. 自动更新功能在后台运行，不会干扰正常使用
5. 建议定期清理不需要的RSS转换文章，避免问题目录过于臃肿

## 故障排除

### RSS源无法访问
- 检查网络连接
- 验证RSS URL是否正确
- 某些网站可能阻止程序访问，建议联系网站管理员

### 文章解析失败
- RSS源格式可能不标准
- 尝试使用其他RSS解析工具验证源格式
- 联系开发者报告问题

### 自动更新不工作
- 检查`issueManager.rss.enableAutoUpdate`设置
- 确认订阅源状态为"启用"
- 重启VS Code重新激活插件
