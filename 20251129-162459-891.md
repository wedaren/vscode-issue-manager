# Visual Studio Code 扩展开发中集成 AntV 可视化技术栈的深度策略报告

## 摘要

在现代软件工程生态系统中，集成开发环境（IDE）已不再仅仅是代码编辑的场所，而是演变为涵盖开发、调试、部署及数据分析的综合工作台。Visual Studio Code（VS Code）凭借其高度可扩展的架构，成为了这一趋势的领跑者。与此同时，数据可视化作为理解复杂系统、算法逻辑及业务数据的关键手段，其重要性日益凸显。AntV 作为一套企业级的可视化解决方案，涵盖了图可视化（G6/X6）、统计图表（G2/G2Plot）及地理空间可视化（L7）等多个领域，为开发者提供了强大的渲染能力。然而，将 AntV 这样依赖 DOM 和图形渲染引擎的重型库集成到 VS Code 这种基于多进程架构的 Electron 应用中，面临着进程隔离、通信开销、状态管理及性能优化等多重技术挑战。本报告将从架构原理、集成策略、性能优化、工程化实践等多个维度，对 VS Code 集成 AntV 的技术路径进行穷尽式的深度剖析，旨在为高级插件架构师和开发者提供一份详尽的实施指南。

## 1. 架构语境与技术约束：理解 VS Code 的渲染机制

要制定有效的集成策略，首要任务是解构 VS Code 的底层架构，特别是其扩展宿主（Extension Host）与渲染进程之间的隔离机制。这种架构设计虽然保证了核心编辑器的稳定性，却为可视化集成带来了独特的挑战。

### 1.1 多进程模型与扩展宿主限制

VS Code 建立在 Electron 框架之上，采用多进程架构。核心 UI（如编辑器、侧边栏、状态栏）运行在主渲染进程中，而所有的第三方扩展则被隔离在一个独立的 Node.js 进程——扩展宿主（Extension Host）中运行 。这一设计的核心目的是确保无论扩展如何阻塞 CPU 或崩溃，都不会导致主编辑器界面的卡顿或崩溃。 

对于 AntV 而言，这意味着一个根本性的限制：扩展宿主进程没有访问 DOM（文档对象模型）的能力，也没有 Canvas 或 WebGL 上下文 。开发者无法在 `extension.ts` 的激活函数中直接实例化 `new G6.Graph()` 并期望其渲染在界面上。所有的可视化渲染必须发生在能够访问 DOM 的环境中，而在 VS Code 的扩展 API 中，唯有 **Webview** 提供了这样的环境。因此，任何集成策略的本质，都是在构建一个跨进程的桥梁：一端是处理业务逻辑和数据源的扩展宿主，另一端是负责像素级渲染的 Webview 容器。 

### 1.2 Webview 的沙箱本质与通信桥梁

Webview 可以被视为嵌入在 VS Code 内部的一个 Chrome 浏览器标签页（iframe）。它拥有独立的 HTML、CSS 和 JavaScript 执行环境，与 VS Code 的核心 UI 也是隔离的。这种隔离是双向的：Webview 无法直接调用 VS Code 的 API（如读取文件、打开对话框），扩展宿主也无法直接操作 Webview 内部的 DOM 节点 。 

两者之间的交互完全依赖于异步的消息传递机制（Message Passing）。扩展使用 `webview.postMessage()` 发送数据，Webview 内部通过 `window.addEventListener('message',...)` 接收；反之亦然。这种通信模式决定了 AntV 图表的渲染流程必须是异步且由数据驱动的。这也引入了序列化（Serialization）成本的问题，当需要可视化包含数万个节点的大型图数据时，JSON 序列化与反序列化的开销可能成为性能瓶颈  1 。此外，Webview 的生命周期是易失的，当用户切换标签页或关闭面板时，Webview 可能会被销毁，这就要求集成方案必须包含完善的状态保持（State Persistence）与恢复机制，以确保用户体验的连续性。 

[Webview API | Visual Studio Code Extension API](https://code.visualstudio.com/api/extension-guides/webview)
[code.visualstudio.com/api/extension-guides/webview](https://code.visualstudio.com/api/extension-guides/webview)

## 2. 核心集成策略：场景驱动的技术选型

根据用户交互模式、数据流向及持久化需求的不同，将 AntV 集成到 VS Code 主要有四种核心策略。每种策略都有其特定的适用场景、优势及技术权衡。

### 2.1 策略 A：Webview Panel（独立面板）—— 临时性与探索性分析

Webview Panel 是最常见也是最灵活的集成方式，它在编辑器的编辑区域创建一个新的标签页，用于展示自定义的 HTML 内容。

#### 适用场景与架构设计

此策略最适合用于“按需触发”的可视化场景。例如，开发者在分析某个复杂的类继承关系时，执行“Show Class Hierarchy”命令，此时插件会弹出一个全屏的 G6 关系图 。或者是进行数据库查询后，弹出一个 G2 统计图表展示查询结果分布。 

在架构上，扩展进程负责数据的采集与预处理。例如，利用 TypeScript Compiler API 解析当前项目的抽象语法树（AST），提取出类与类之间的引用关系，构建出符合 G6 数据结构的 JSON 对象。随后，扩展通过 `window.createWebviewPanel` 创建面板，并将包含 AntV 运行时代码的 HTML 字符串注入其中。最后，通过 `postMessage` 将 AST 数据发送给 Webview，触发 `graph.render()`。

#### 生命周期管理与资源释放

Webview Panel 的一个关键技术点是生命周期的管理。由于 AntV（特别是 L7 和 G6 v5）可能使用 WebGL 上下文，占用显著的内存和 GPU 资源，因此不建议无限制地保留后台面板。开发者需监听 `panel.onDidDispose` 事件，在面板关闭时清理引用，防止内存泄漏。对于 `retainContextWhenHidden` 选项，虽然开启它可以防止切换标签页时重置图表状态，但会带来持续的内存开销。更优的实践是利用 `vscode.getState()` 和 `setState()` API：在 Webview 失去焦点或销毁前保存当前视图状态（如缩放级别、中心点坐标、筛选条件），并在重建时恢复，从而以计算换取内存空间 。 

### 2.2 策略 B：Custom Editor API（自定义编辑器）—— 文档驱动的持久化编辑

当可视化的对象直接对应磁盘上的某个文件（如 `.json`, `.flow`, `.drawio`）时，Custom Editor API 是比 Webview Panel 更高级且规范的选择。

#### 深度整合工作流

与 Webview Panel 不同，Custom Editor 深度介入了 VS Code 的文档模型。它允许 AntV X6 这样的图编辑引擎直接充当特定后缀文件的“编辑器” 。这意味着用户双击文件资源管理器中的文件时，不再打开文本编辑器，而是直接打开图形化界面。 

在此策略下，必须实现 `CustomTextEditorProvider` 接口。该接口要求处理文档模型（Document Model）与视图模型（View Model）的同步。当用户在 X6 画布上拖拽节点（View Model 变更）时，插件不应直接修改文件，而是应该向 VS Code 发送一个 `WorkspaceEdit` 事件，或者通过 `postMessage` 请求扩展宿主更新内存中的文档文本。VS Code 核心处理完文本更新后，会触发 `onDidChangeTextDocument` 事件，插件监听此事件并将新的数据推回 Webview 进行重绘。这种单向数据流（One-way Data Flow）确保了撤销/重做（Undo/Redo）栈由 VS Code 统一管理，避免了图形编辑器内部历史栈与文件历史栈的冲突 。 

### 2.3 策略 C：Webview View（侧边栏视图）—— 辅助性与实时监控

Webview View 允许将 AntV 可视化嵌入到侧边栏（Sidebar）或底部面板（Panel）中，作为辅助视图常驻显示。

#### 空间约束与交互设计

这一策略适用于 Git 提交历史图（G6）、代码复杂度实时仪表盘（G2）或大纲视图增强。由于侧边栏宽度通常较窄，且用户可能随时调整其大小，这对 AntV 图表的响应式设计提出了极高要求。集成时必须利用 `ResizeObserver` 监听容器大小变化，并调用 `graph.changeSize()` 进行实时适配，同时配合 AntV 的 `fitView` 或 `autoZoom` 配置，确保图形元素在狭窄空间内依然可读 。此外，侧边栏视图通常与当前活跃的文本编辑器紧密联动，例如，当用户在代码编辑器中点击某个函数时，侧边栏的调用图高亮显示该函数节点。这需要扩展宿主监听 `window.onDidChangeTextEditorSelection` 事件，并实时向 Webview 发送高频消息，这对通信性能提出了挑战。 

### 2.4 策略 D：Notebook Renderer（笔记本渲染器）—— 数据科学与交互式文档

随着 VS Code 对 Jupyter Notebook 的原生支持，Notebook Renderer API 提供了一种在代码单元格（Cell）输出区域直接渲染富媒体内容的能力 。 

#### MIME Type 驱动的渲染机制

这种策略的核心在于 MIME Type。扩展需要在 `package.json` 中注册一个 `notebookRenderer`，声明其能够处理特定的 MIME 类型（如 `application/vnd.antv.g6+json`）。当 Python 或 JavaScript 内核执行代码并输出该 MIME 类型的数据结构时，VS Code 会自动加载注册的渲染脚本。

渲染脚本运行在一个隔离的 Worker 或 Webview 环境中，接收 DOM 容器和 JSON 数据。这对于数据科学家极为有利，他们可以使用 Python（结合 NetworkX 或 Pandas）处理数据，然后直接在 VS Code 的 Notebook 界面中通过 AntV 进行交互式探索，而无需离开 IDE 或启动外部服务器。相比于传统的 Jupyter Widget，这种原生渲染器性能更佳，且与 VS Code 的主题系统融合更紧密 。 

## 3. 技术栈深度剖析：AntV 各产品线的集成微操

AntV 家族的不同产品（G6, X6, G2, L7）在底层渲染引擎（Canvas vs SVG vs WebGL）和交互逻辑上存在差异，这直接影响了其在 VS Code 中的集成细节。

### 3.1 G6 集成：处理大规模关系数据的挑战

G6 专注于图分析，常用于依赖分析、调用链追踪等场景。其 v4 版本主要基于 Canvas，而 v5 版本引入了基于 WebGL 的 G 渲染引擎。

#### 布局算法的线程卸载

G6 的强大之处在于其丰富的布局算法（Force, Dagre, Fruchterman）。然而，某些力导向布局算法计算量巨大，如果在 Webview 的主线程（UI 线程）中直接运行，会导致界面冻结，用户无法响应。在 VS Code 环境中，最佳实践是将布局计算逻辑剥离。一种方案是在 Webview 中使用 Web Worker 运行布局算法；另一种更激进的方案是在扩展宿主（Node.js）中运行布局算法的纯计算版本（headless G6 或专门的布局库），计算出所有节点的 `x, y` 坐标后，仅将渲染指令发送给 Webview。这样不仅利用了 Node.js 的计算能力，还减少了 Webview 的负担，但代价是通信数据量的增加 。 

#### 交互与事件透传

VS Code 用户习惯于丰富的右键菜单（Context Menu）。G6 提供了自定义上下文菜单插件，但在 Webview 中实现的菜单通常是非原生风格的 HTML 元素。为了获得原生体验，可以拦截 G6 节点的 `contextmenu` 事件，通过 `postMessage` 通知扩展宿主，由宿主调用 `vscode.window.showQuickPick` 或弹出一个原生的 VS Code 菜单，用户选择后再回调 Webview 执行相应操作。

### 3.2 X6 集成：构建可视化低代码编辑器

X6 提供了极强的图形编辑能力，基于 SVG，非常适合流程图、ER 图编辑。

#### 拖拽交互的跨界整合

在低代码场景中，用户可能希望从 VS Code 的文件资源管理器或左侧自定义 TreeView 中拖拽一个“组件”到 X6 画布上。这涉及跨区域的拖拽（Drag and Drop）。由于 Webview 是 iframe，外部的拖拽事件进入 iframe 需要特殊处理。可以通过 VS Code 的 Webview 拖拽 API 传递数据，或者在 Webview 内部实现一个 Stencil（侧边栏组件库），完全在 Webview 内部闭环完成拖拽操作，后者通常实现起来更为稳健 。 

#### 键盘快捷键的冲突管理

X6 依赖键盘快捷键（如 Ctrl+C/V, Delete）。Webview 默认会捕获键盘事件，但需要配置 `enableScripts: true` 并且焦点必须在 Webview 内。开发者需要处理快捷键的冲突，例如 Ctrl+S 应该触发保存文件而不是浏览器的“另存为”。通常需要监听 `keydown` 事件，阻止默认行为，并手动触发布务逻辑或向宿主发送命令 。 

### 3.3 L7 集成：WebGL 环境下的生存指南

L7 专注于地理空间数据，高度依赖 WebGL 渲染能力。

#### Electron 环境下的 WebGL 兼容性

Electron 对 WebGL 的支持在不同操作系统和硬件配置下可能存在差异。在某些 Linux 发行版或虚拟机中，硬件加速可能默认被禁用，导致 L7 无法初始化或渲染黑屏。集成 L7 时，建议在 Webview 初始化脚本中进行 WebGL 上下文检测（`gl.getExtension`），如果检测失败，提示用户检查 VS Code 的硬件加速设置（`"disable-hardware-acceleration": false`）或降级展示静态图片。此外，由于 Webview 共享 GPU 进程，如果开启多个 L7 面板，显存压力会迅速增大，因此实现严苛的资源销毁逻辑（`scene.destroy()`）至关重要 。 

## 4. 工程化实施细节：从构建到安全

理论策略落地为实际代码，需要解决构建管线、资源加载及安全合规等一系列工程问题。

### 4.1 双构建管线（Dual Build Pipeline）

VS Code 扩展本质上是 Node.js 应用，而 Webview 内的代码是前端应用。这意味着项目需要维护两套构建配置。

| 构建目标 | 运行环境 | 模块规范 | 推荐工具 | 关键配置说明 |
| --- | --- | --- | --- | --- |
| **Extension Host** | Node.js | CommonJS / CJS | Esbuild / TSC | `platform: 'node'`, `external: ['vscode']`。不仅排除 `vscode` 模块，还需注意 native 模块的处理。 |
| **Webview** | Browser (Chrome) | IIFE / ESM | Esbuild / Vite | `platform: 'browser'`, `bundle: true`。**必须**将 React, AntV 等所有依赖打包进一个或多个 JS 文件中，因为 Webview 无法动态解析 `node_modules` 路径。 |

 

**Tree Shaking 的必要性：** AntV 库体积较大，如果全量引入会显著增加扩展安装包（.vsix）的大小。使用 Esbuild 时，应确保使用 ESM 版本的 AntV 包（`import { Graph } from '@antv/g6'`），并配置 `treeShaking: true`，以剔除未使用的图表类型或渲染器代码 。 

### 4.2 资源加载与 CSP 安全基线

在 Webview 中加载本地资源（JS, CSS, 图片, JSON 数据）受到严格限制。不能使用 `file://` 协议，必须使用 `webview.asWebviewUri(vscode.Uri.file(...))` 将本地路径转换为 VS Code 特有的 `vscode-resource` 协议 URI 。 

同时，内容安全策略（Content Security Policy, CSP）是防止 XSS 攻击的最后一道防线。对于 AntV 集成，推荐的 CSP 配置如下：

HTML

```
<meta http-equiv="Content-Security-Policy"
    content="default-src 'none';
    img-src ${webview.cspSource} https:;
    script-src 'nonce-${nonce}';
    style-src ${webview.cspSource} 'unsafe-inline';">

```

注意 `style-src` 中的 `'unsafe-inline'`。AntV G6 和 X6 在运行时会动态生成大量的内联样式（用于 tooltip, canvas 容器定位等），因此完全禁用内联样式通常会导致渲染异常。这是一个安全与功能的权衡点。`script-src` 则必须严格限制，仅允许带有特定 `nonce`（随机数）的引导脚本执行，该引导脚本再负责加载打包好的 Webview Bundle 。 

### 4.3 桥接 React/Vue 框架

虽然 Webview 接收的是 HTML 字符串，但在现代开发中，直接写原生 JS 操作 DOM 管理 AntV 状态极其低效。通常的做法是在 Webview 中挂载一个 React 或 Vue 根组件。

**React 集成示例流程：**

1. **宿主端：** 读取编译后的 `main.js`（包含 React+AntV）和 `style.css` 文件路径，转换为 Webview URI。
2. **HTML 模板：** 生成包含 `<div id="root"></div>` 和 `<script src="${scriptUri}"></script>` 的 HTML。
3. **Webview 端（React）：**

TypeScript

```
import React, { useEffect, useRef } from 'react';
import { Graph } from '@antv/g6';

const App = () => {
    const containerRef = useRef(null);
    useEffect(() => {
        if (!containerRef.current) return;
        const graph = new Graph({ container: containerRef.current,... });
        graph.render();

        // 监听来自宿主的消息
        window.addEventListener('message', event => {
            const message = event.data;
            if (message.type === 'UPDATE_DATA') graph.changeData(message.payload);
        });
    },);
    return <div ref={containerRef} style={{ width: '100%', height: '100vh' }} />;
};

```

这种模式利用了 React 的组件化优势，结合 `@antv/g6-extension-react` 或 `x6-react-components` 可以进一步简化自定义节点的开发，使得在图表中嵌入复杂的 React 组件成为可能 。 

## 5. 数据通信优化与性能调优

当图数据规模达到数千甚至数万节点时，简单的 `postMessage(JSON.stringify(data))` 会导致显著的卡顿。性能优化主要集中在通信链路和渲染策略上。

### 5.1 通信协议的类型安全与抽象

为了维护庞大的消息交互，建立强类型的通信协议是必须的。不要直接发送 `{ command: 'doSomething', data:... }` 这种弱类型对象。定义一个共享的 `types.ts` 文件，供扩展宿主和 Webview 共同引用：

TypeScript

```
export type MessageProtocol = 

| { type: 'SCENE_INIT'; payload: GraphData }
| { type: 'NODE_SELECTED'; payload: string }
| { type: 'REQUEST_LAYOUT'; payload: LayoutParams };

```

使用 `vscode-messenger` 库可以封装底层的 `postMessage`，提供类似 HTTP 请求的 `sendRequest` 和 `onNotification` 语义，甚至支持超时处理和请求响应配对，极大降低了异步通信的复杂度 。 

### 5.2 大数据传输：JSON vs 二进制

VS Code 的 `postMessage` 在内部实现上并不完全等同于 Web Worker 的标准实现，特别是对于 SharedArrayBuffer 的支持受限。通常情况下，JSON 序列化是必须的。

**优化策略：**

1. **增量更新（Delta Updates）：** 首次加载全量数据，后续仅发送变化的数据（如新增节点、属性变更），避免重复传输整个图结构。
2. **分块传输（Chunking）：** 将大图数据切分为多个小块，通过多次 `postMessage` 发送，并在 Webview 端组装。这可以避免单次消息过大阻塞 IPC 通道，保持 UI 的响应性。
3. **二进制传输的尝试：** 尽管存在限制，但利用 `ArrayBuffer` 传输数值型数据（如坐标数组、颜色值）仍然比 Base64 字符串或庞大的 JSON 对象更高效。可以通过 `Uint8Array` 包装数据进行传输，在接收端通过 DataView 解析，但这要求开发者自行设计二进制协议 。

### 5.3 渲染性能调优

在 Webview 端，除了 AntV 本身的优化（如 G6 的 LOD 策略，缩小时隐藏标签），还应注意：

- **离屏渲染（Offscreen Canvas）：** 如果可能，部分图形计算可在 Worker 中完成。
- **避免 React 重绘：** 确保 AntV 的容器 div 不会因为 React 父组件的无关状态更新而被重新挂载（Unmount/Remount），这会导致图表实例销毁和重建，极度消耗资源。使用 `React.memo` 或 `useMemo` 保护图形组件。

## 6. 用户体验（UX）与视觉一致性

为了让插件看起来像 VS Code 的原生功能，而非突兀的网页嵌入，必须在主题和响应性上下功夫。

### 6.1 主题自适应机制

VS Code 支持亮色、暗色及高对比度主题，且用户可随时切换。Webview 上下文会自动注入 CSS 变量（如 `--vscode-editor-background`）。 

然而，AntV 的配置通常是 JS 对象。因此，需要构建一个“样式桥接器”：

1. **监听变化：** 使用 `MutationObserver` 监听 `document.body` 的 `class` 属性变化（`vscode-light` / `vscode-dark`）。
2. **读取变量：** 当主题变化时，通过 `getComputedStyle(document.body).getPropertyValue('--vscode-editor-background')` 读取当前的 CSS 变量值。
3. **动态更新：** 调用 AntV 实例的 `updateLayout` 或 `updateTheme` 方法，传入新的颜色配置。

这样可以确保当用户从“Solarized Light”切换到“Monokai”时，图表的背景色、节点颜色和文字颜色能即时平滑过渡，无需重载 Webview。

### 6.2 响应式布局

`ResizeObserver` 是处理布局变化的黄金标准。在 Webview 中，由于侧边栏折叠或窗口缩放，容器大小经常变化。

TypeScript

```
const resizeObserver = new ResizeObserver(entries => {
    for (const entry of entries) {
        const { width, height } = entry.contentRect;
        // 增加防抖（Debounce）以避免高频重绘
        requestAnimationFrame(() => {
            graph.changeSize(width, height);
            graph.fitView(); 
        });
    }
});
resizeObserver.observe(containerElement);

```

此代码片段确保了图表永远填满可视区域，且不会出现滚动条或留白 。 

## 7. 结论与建议

将 AntV 集成到 VS Code 是一个跨越前端渲染与系统级进程管理的复杂工程。**Webview Panel** 提供了最大的灵活性，是大多数可视化需求的通用解；**Custom Editor API** 则为文件编辑类需求提供了最佳的用户体验；**Notebook Renderer** 则精准击中了数据科学场景。

成功的关键不仅在于对 AntV API 的熟练运用，更在于对 VS Code 扩展架构的深刻理解：

1. **尊重隔离：** 不要试图突破沙箱，而是建立健壮的消息协议。
2. **性能优先：** 将计算密集型任务留在扩展宿主或 Worker，只让 Webview 负责渲染。
3. **体验原生化：** 深度适配 VS Code 的主题系统和交互习惯（命令面板、快捷键）。
4. **工程化闭环：** 建立自动化构建和严格的类型检查机制。

遵循上述策略，开发者便能利用 AntV 强大的可视化能力，极大地丰富 VS Code 的生态系统，为用户提供洞见深刻的开发工具体验。

## 参考文献

本报告综合了以下技术文档与社区资源中的关键信息：

- **VS Code API 指南:**
- **AntV 技术文档 (G6, X6, L7):**
- **Webview 与安全性:**
- **构建与打包工具 (Esbuild):**
- **性能优化与通信:**
- **主题与 UX:**

Sources used in the report
[code.visualstudio.comYour First Extension - Visual Studio CodeOpens in a new window](https://code.visualstudio.com/api/get-started/your-first-extension)[code.visualstudio.comWebview API | Visual Studio Code Extension APIOpens in a new window](https://code.visualstudio.com/api/extension-guides/webview)[code.visualstudio.comExtension Capabilities Overview - Visual Studio CodeOpens in a new window](https://code.visualstudio.com/api/extension-capabilities/overview)[blog.mattbierner.comWhat I've learned so far while bringing VS Code's Webviews to the web - Matt BiernerOpens in a new window](https://blog.mattbierner.com/vscode-webview-web-learnings/)[github.comantvis/G6: A Graph Visualization Framework in JavaScript. - GitHubOpens in a new window](https://github.com/antvis/G6)[g6.antv.antgroup.comStep-by-step guide | G6 Graph Visualization Framework in JavaScriptOpens in a new window](https://g6.antv.antgroup.com/en/manual/getting-started/step-by-step)[blog.trailofbits.comEscaping misconfigured VSCode extensions - The Trail of Bits BlogOpens in a new window](https://blog.trailofbits.com/2023/02/21/vscode-extension-escape-vulnerability/)[code.visualstudio.comCustom Editor API - Visual Studio CodeOpens in a new window](https://code.visualstudio.com/api/extension-guides/custom-editors)[github.comCustomTextEditor vs regular webview · microsoft vscode-discussions - GitHubOpens in a new window](https://github.com/microsoft/vscode-discussions/discussions/89)[github.comantvis/X6: JavaScript diagramming library that uses SVG and HTML for rendering.Opens in a new window](https://github.com/antvis/X6)[developer.mozilla.orgResizeObserver - Web APIs | MDNOpens in a new window](https://developer.mozilla.org/en-US/docs/Web/API/ResizeObserver)[github.comAbility to resize graph canvas on the fly · Issue #2558 · antvis/G6 - GitHubOpens in a new window](https://github.com/antvis/G6/issues/2558)[code.visualstudio.comNotebook API - Visual Studio CodeOpens in a new window](https://code.visualstudio.com/api/extension-guides/notebook)[marketplace.visualstudio.comJupyter Notebook Renderers - Visual Studio MarketplaceOpens in a new window](https://marketplace.visualstudio.com/items?itemName=ms-toolsai.jupyter-renderers)[yanyanwang93.medium.comProblems in AntV G6: Rendering Residuals | by Yanyan Wang - MediumOpens in a new window](https://yanyanwang93.medium.com/problems-in-antv-g6-rendering-residuals-653064744729)[medium.comG6 4.0: More Progress for Easier Graph Visual Analysis | by Yanyan Wang | AntV | MediumOpens in a new window](https://medium.com/antv/g6-4-0-more-progress-for-easier-graph-visual-analysis-9e8e98f099e9)[youtube.comANTV X6 JavaScript Diagramming Library: Lets build a workflow editor (Drag and Drop Nodes) - YouTubeOpens in a new window](https://www.youtube.com/watch?v=EMtcA5z1fAg)[stackoverflow.comEnabling WebGL support for Android WebView - Stack OverflowOpens in a new window](https://stackoverflow.com/questions/15395245/enabling-webgl-support-for-android-webview)[reddit.comDoes VSCode support WebGL on linux? - RedditOpens in a new window](https://www.reddit.com/r/vscode/comments/1lhfhfs/does_vscode_support_webgl_on_linux/)[l7.antv.visionQuick Issue - L7Opens in a new window](https://l7.antv.vision/en/tutorial/quick_issue/)[code.visualstudio.comBundling Extensions - Visual Studio CodeOpens in a new window](https://code.visualstudio.com/api/working-with-extensions/bundling-extension)[esbuild.github.ioAPI - ESBuildOpens in a new window](https://esbuild.github.io/api/)[github.comIssue with native modules (.node) resolving incorrectly in VSCode extension built with esbuild #4154 - GitHubOpens in a new window](https://github.com/evanw/esbuild/issues/4154)[stackoverflow.comjavascript - vscode extension. 'JS Import' from webview - Stack OverflowOpens in a new window](https://stackoverflow.com/questions/63924805/vscode-extension-js-import-from-webview)[dev.toVsCode extension using webview and message posting - DEV CommunityOpens in a new window](https://dev.to/coderallan/vscode-extension-using-webview-and-message-posting-5435)[g6.antv.visionreact | G6 Graph Visualization Framework in JavaScriptOpens in a new window](https://g6.antv.vision/en/manual/getting-started/integration/react/)[g6.antv.antgroup.comDefine Nodes with React | G6 Graph Visualization Framework in JavaScriptOpens in a new window](https://g6.antv.antgroup.com/en/manual/element/node/react-node/)[typefox.ioEnhancing communication between extensions and webviews using VS Code MessengerOpens in a new window](https://www.typefox.io/blog/vs-code-messenger/)[developer.mozilla.orgArrayBuffer - JavaScript - MDN Web DocsOpens in a new window](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer)[stackoverflow.comHow to transfer large objects using postMessage of webworker? - Stack OverflowOpens in a new window](https://stackoverflow.com/questions/34057127/how-to-transfer-large-objects-using-postmessage-of-webworker)[github.comImprove transfer of ArrayBuffers to and from webviews · Issue #115807 · microsoft/vscodeOpens in a new window](https://github.com/microsoft/vscode/issues/115807)[code.visualstudio.comTheme Color | Visual Studio Code Extension APIOpens in a new window](https://code.visualstudio.com/api/references/theme-color)[eliostruyf.comA code-driven approach to theme your VS Code webview | Elio StruyfOpens in a new window](https://www.eliostruyf.com/code-driven-approach-theme-vscode-webview/)[dev.toQuick guide to Resize Observer - DEV CommunityOpens in a new window](https://dev.to/murashow/quick-guide-to-resize-observer-gam)
Sources read but not used in the report
[code.visualstudio.comEnterprise support - Visual Studio CodeOpens in a new window](https://code.visualstudio.com/docs/setup/enterprise)[reddit.comVS Code Extensions and environment variables best practices : r/vscode - RedditOpens in a new window](https://www.reddit.com/r/vscode/comments/1nl5it8/vs_code_extensions_and_environment_variables_best/)[stackoverflow.comHow do I render images sharp in Jupyter notebook with VScode when Windows scaling is enabled? - Stack OverflowOpens in a new window](https://stackoverflow.com/questions/79651328/how-do-i-render-images-sharp-in-jupyter-notebook-with-vscode-when-windows-scalin)[github.comHelp webview extensions add a Content Security Policy · Issue #79340 · microsoft/vscodeOpens in a new window](https://github.com/microsoft/vscode/issues/79340)[stackoverflow.comVSCode Webview Content-Security-Policy ticino.blob.core.windows.net - Stack OverflowOpens in a new window](https://stackoverflow.com/questions/70618906/vscode-webview-content-security-policy-ticino-blob-core-windows-net)[stackoverflow.comWhy do extensions/WebView impact performance so much? and how to prevent?Opens in a new window](https://stackoverflow.com/questions/46804267/why-do-extensions-webview-impact-performance-so-much-and-how-to-prevent)[github.comBetter UI extensibility: retain webviews, provide communication channel · Issue #28263 · microsoft/vscode - GitHubOpens in a new window](https://github.com/microsoft/vscode/issues/28263)[g6.antv.antgroup.comOptions | G6 Graph Visualization Framework in JavaScriptOpens in a new window](https://g6.antv.antgroup.com/en/manual/graph/option)[stackoverflow.comDetect light/dark theme programmatically in Visual Studio Code - Stack OverflowOpens in a new window](https://stackoverflow.com/questions/37257911/detect-light-dark-theme-programmatically-in-visual-studio-code)[code.visualstudio.comUsing React in Visual Studio CodeOpens in a new window](https://code.visualstudio.com/docs/nodejs/reactjs-tutorial)[stackoverflow.comantv/g6 and react. How to update graph? - Stack OverflowOpens in a new window](https://stackoverflow.com/questions/67108651/antv-g6-and-react-how-to-update-graph)[github.comWebview unable to load script and CSS resources (401 error); thought I'd followed CORS properly; how to fix? · microsoft vscode-discussions - GitHubOpens in a new window](https://github.com/microsoft/vscode-discussions/discussions/472)[stackoverflow.comLoading referenced files from HTML in VSCode Extension Webview - Stack OverflowOpens in a new window](https://stackoverflow.com/questions/60737718/loading-referenced-files-from-html-in-vscode-extension-webview)[stackoverflow.comvscode extensions - Is it possible to access VS Codes theme properties programatically? Like, can a person use the VS Code API to change a theme color? - Stack OverflowOpens in a new window](https://stackoverflow.com/questions/71095465/is-it-possible-to-access-vs-codes-theme-properties-programatically-like-can-a)[stackoverflow.comVS code webview css variable names for used theme tokenColors - Stack OverflowOpens in a new window](https://stackoverflow.com/questions/55877879/vs-code-webview-css-variable-names-for-used-theme-tokencolors)[codesandbox.ioantv/x6-react-components examples - CodeSandboxOpens in a new window](https://codesandbox.io/examples/package/@antv/x6-react-components)[code.visualstudio.comWebviews | Visual Studio Code Extension APIOpens in a new window](https://code.visualstudio.com/api/ux-guidelines/webviews)[github.comwebgl is null in webview but exist in browserWindow · Issue #24789 - GitHubOpens in a new window](https://github.com/electron/electron/issues/24789)[stackoverflow.comProblematic webGL support in electron - node.js - Stack OverflowOpens in a new window](https://stackoverflow.com/questions/44405489/problematic-webgl-support-in-electron)[stackoverflow.comUsing transferable objects from a Web Worker - Stack OverflowOpens in a new window](https://stackoverflow.com/questions/16071211/using-transferable-objects-from-a-web-worker)[github.comDocument what types webview.postMessage supports · Issue #79257 · microsoft/vscodeOpens in a new window](https://github.com/microsoft/vscode/issues/79257)[elixirforum.comIs it worth using "esbuild"? - Questions / Help - Elixir Programming Language ForumOpens in a new window](https://elixirforum.com/t/is-it-worth-using-esbuild/47881)[stackoverflow.comHow to bundle a VSCode Language Server extension with ESbuild into ONE FILE?Opens in a new window](https://stackoverflow.com/questions/75579409/how-to-bundle-a-vscode-language-server-extension-with-esbuild-into-one-file)[github.commicrosoft/vscode-notebook-renderers - GitHubOpens in a new window](https://github.com/microsoft/vscode-notebook-renderers)[github.comIssues · antvis/l7-extensions - GitHubOpens in a new window](https://github.com/antvis/l7-extensions/issues)[stackoverflow.comVisual Studio Code extensions stopped working suddenly - Stack OverflowOpens in a new window](https://stackoverflow.com/questions/69513649/visual-studio-code-extensions-stopped-working-suddenly)[reddit.comMalicious VSCode extensions with millions of installs discovered : r/programming - RedditOpens in a new window](https://www.reddit.com/r/programming/comments/1dcz9uj/malicious_vscode_extensions_with_millions_of/)[code.visualstudio.comUsing extensions in Visual Studio CodeOpens in a new window](https://code.visualstudio.com/docs/introvideos/extend)[youtube.comBest VS Code Extensions for Developers | Full Setup Tutorial - YouTubeOpens in a new window](https://www.youtube.com/watch?v=Z5FQ_5Jpt3g)[syncfusion.comCreating Extensions for Visual Studio Code: A Complete Guide | Syncfusion BlogsOpens in a new window](https://www.syncfusion.com/blogs/post/creating-extensions-for-visual-studio-code-a-complete-guide)[code.visualstudio.comViews | Visual Studio Code Extension APIOpens in a new window](https://code.visualstudio.com/api/ux-guidelines/views)[stackoverflow.comVSCode extension: Custom Editor with Webview both on typescript - Stack OverflowOpens in a new window](https://stackoverflow.com/questions/71077130/vscode-extension-custom-editor-with-webview-both-on-typescript)[code.visualstudio.comPython Interactive window - Visual Studio CodeOpens in a new window](https://code.visualstudio.com/docs/python/jupyter-support-py)[github.comvueComponent/ant-design-vue-helper: A vscode extension for Ant-Design-Vue - GitHubOpens in a new window](https://github.com/vueComponent/ant-design-vue-helper)[github.comNickHeap/vscode-ant: Visual Studio Code Ant Task Runner Extension published on the marketplace - GitHubOpens in a new window](https://github.com/NickHeap/vscode-ant)[github.comantfu/starter-vscode: Starter template for VS Code Extension - GitHubOpens in a new window](https://github.com/antfu/starter-vscode)[github.comNickHeap2/vscode-ant: Visual Studio Code Ant Task Runner Extension published on the marketplace - GitHubOpens in a new window](https://github.com/NickHeap2/vscode-ant)[code.visualstudio.comPerformance Profiling JavaScript - Visual Studio CodeOpens in a new window](https://code.visualstudio.com/docs/nodejs/profiling)[syncfusion.comTop 20 VS Code Extensions Every Developer Should Know in 2025 | Syncfusion BlogsOpens in a new window](https://www.syncfusion.com/blogs/post/top-vs-code-extensions)[code.visualstudio.comData Science in VS Code tutorialOpens in a new window](https://code.visualstudio.com/docs/datascience/data-science-tutorial)[reddit.comWhy Visual Studio Code is good in terms of performances compared to other Electron softwares? : r/webdev - RedditOpens in a new window](https://www.reddit.com/r/webdev/comments/1hwn0ve/why_visual_studio_code_is_good_in_terms_of/)[github.comL7VP is an geospatial intelligent visual analysis and application development tools. - GitHubOpens in a new window](https://github.com/antvis/L7VP)[github.commicrosoft/vscode-extension-samples: Sample code illustrating the VS Code extension API.Opens in a new window](https://github.com/microsoft/vscode-extension-samples)[github.comvscode-extension · GitHub TopicsOpens in a new window](https://github.com/topics/vscode-extension)[github.comantvis/l7-extensions: A collection of extensions for L7. - GitHubOpens in a new window](https://github.com/antvis/l7-extensions)[g6.antv.antgroup.comrenderer | G6 Graph Visualization Framework in JavaScriptOpens in a new window](https://g6.antv.antgroup.com/en/manual/further-reading/renderer)[code.visualstudio.comJupyter Notebooks in VS CodeOpens in a new window](https://code.visualstudio.com/docs/datascience/jupyter-notebooks)[youtube.comVS Code Notebooks: A Deep Dive - YouTubeOpens in a new window](https://www.youtube.com/watch?v=D-AXZZDTQhM)[news.ycombinator.comBreaking the WASM/JS communication performance barrier - Hacker NewsOpens in a new window](https://news.ycombinator.com/item?id=44656516)[stackoverflow.comJavascript ArrayBuffer modification performance - Stack OverflowOpens in a new window](https://stackoverflow.com/questions/60630544/javascript-arraybuffer-modification-performance)[stackoverflow.comWhy is the performance gap between array literals and BufferArray so big? - Stack OverflowOpens in a new window](https://stackoverflow.com/questions/56203142/why-is-the-performance-gap-between-array-literals-and-bufferarray-so-big)[github.comtjx666/vscode-extension-boilerplate - GitHubOpens in a new window](https://github.com/tjx666/vscode-extension-boilerplate)[reddit.comI built a VS Code extension to auto-generate boilerplate code : r/vscode - RedditOpens in a new window](https://www.reddit.com/r/vscode/comments/1o8882s/i_built_a_vs_code_extension_to_autogenerate/)
Thoughts

研究概述与策略分解

我正在着手研究将 AntV 可视化库集成到 VS Code 扩展中的可行策略。为了全面覆盖，我将研究重点分为几个方面：首先，探索 VS Code 提供的各种 UI 机制，如 Webview Panel、Custom Editor、Webview View 和 Notebook Renderer，评估它们承载 AntV 图表的优缺点。其次，我将深入研究技术实现细节，包括如何在 Webview 中安全加载 AntV 脚本（涉及 CSP 和本地路径问题）以及扩展宿主和 Webview 之间的数据通信机制。最后，我会关注用户体验整合（如主题自适应和响应式布局）以及寻找使用 AntV 的现有开源 VS Code 扩展作为参考案例。

确立核心技术挑战

通过初步思考，我意识到集成 AntV 的核心挑战在于 Webview 环境下的资源加载和数据同步。由于 Webview 与 VS Code 宿主是隔离的，因此需要解决 AntV 脚本的加载路径问题、内容安全策略（CSP）的限制，并建立一套可靠的 `postMessage` 机制来高效地在 VS Code 扩展逻辑层和 AntV 渲染层之间传递数据和更新图表状态。

下一步行动计划

我将通过一系列广泛的搜索来开启研究，以获取关于“VS Code 扩展集成 AntV G2 G6 X6”和“VS Code webview 对比 custom editor 用于图表”的最佳实践，并查找现有的 GitHub 案例。这些初始搜索结果将帮助我缩小范围，确定最适合 AntV 的 VS Code UI 机制，并指导后续对技术细节（如 React/Vue 框架结合 AntV 在 Webview 中的使用）的深入探究。

![](https://www.gstatic.com/lamda/images/immersives/google_logo_icon_2380fba942c84387f09cf.svg)

 Researching websites 

[code.visualstudio.comYour First Extension - Visual Studio Code](https://code.visualstudio.com/api/get-started/your-first-extension)[youtube.comBest VS Code Extensions for Developers | Full Setup Tutorial - YouTube](https://www.youtube.com/watch?v=Z5FQ_5Jpt3g)[g6.antv.antgroup.comStep-by-step guide | G6 Graph Visualization Framework in JavaScript](https://g6.antv.antgroup.com/en/manual/getting-started/step-by-step)[g6.antv.visionreact | G6 Graph Visualization Framework in JavaScript](https://g6.antv.vision/en/manual/getting-started/integration/react/)[code.visualstudio.comWebview API | Visual Studio Code Extension API](https://code.visualstudio.com/api/extension-guides/webview)[code.visualstudio.comCustom Editor API - Visual Studio Code](https://code.visualstudio.com/api/extension-guides/custom-editors)[code.visualstudio.comViews | Visual Studio Code Extension API](https://code.visualstudio.com/api/ux-guidelines/views)[stackoverflow.comVSCode extension: Custom Editor with Webview both on typescript - Stack Overflow](https://stackoverflow.com/questions/71077130/vscode-extension-custom-editor-with-webview-both-on-typescript)[github.comCustomTextEditor vs regular webview · microsoft vscode-discussions - GitHub](https://github.com/microsoft/vscode-discussions/discussions/89)[code.visualstudio.comBundling Extensions - Visual Studio Code](https://code.visualstudio.com/api/working-with-extensions/bundling-extension)[code.visualstudio.comExtension Capabilities Overview - Visual Studio Code](https://code.visualstudio.com/api/extension-capabilities/overview)[code.visualstudio.comEnterprise support - Visual Studio Code](https://code.visualstudio.com/docs/setup/enterprise)[reddit.comVS Code Extensions and environment variables best practices : r/vscode - Reddit](https://www.reddit.com/r/vscode/comments/1nl5it8/vs_code_extensions_and_environment_variables_best/)[code.visualstudio.comJupyter Notebooks in VS Code](https://code.visualstudio.com/docs/datascience/jupyter-notebooks)[code.visualstudio.comNotebook API - Visual Studio Code](https://code.visualstudio.com/api/extension-guides/notebook)[stackoverflow.comHow do I render images sharp in Jupyter notebook with VScode when Windows scaling is enabled? - Stack Overflow](https://stackoverflow.com/questions/79651328/how-do-i-render-images-sharp-in-jupyter-notebook-with-vscode-when-windows-scalin)[youtube.comVS Code Notebooks: A Deep Dive - YouTube](https://www.youtube.com/watch?v=D-AXZZDTQhM)[marketplace.visualstudio.comJupyter Notebook Renderers - Visual Studio Marketplace](https://marketplace.visualstudio.com/items?itemName=ms-toolsai.jupyter-renderers)[github.comvueComponent/ant-design-vue-helper: A vscode extension for Ant-Design-Vue - GitHub](https://github.com/vueComponent/ant-design-vue-helper)[github.comantvis/G6: A Graph Visualization Framework in JavaScript. - GitHub](https://github.com/antvis/G6)[github.comNickHeap/vscode-ant: Visual Studio Code Ant Task Runner Extension published on the marketplace - GitHub](https://github.com/NickHeap/vscode-ant)[github.comantfu/starter-vscode: Starter template for VS Code Extension - GitHub](https://github.com/antfu/starter-vscode)[github.comNickHeap2/vscode-ant: Visual Studio Code Ant Task Runner Extension published on the marketplace - GitHub](https://github.com/NickHeap2/vscode-ant)

新观察到的主要集成路径

我通过初步搜索确认了将 AntV 集成到 VS Code 扩展中的三种主要策略：**Webview 面板**（用于自定义 UI 和可视化）、**Custom Editor**（用于替换特定文件类型的标准编辑器，提供可视化编辑体验）和**Notebook Renderer**（用于在 Jupyter 等 Notebook 输出中渲染图表）。Webview API 文档明确了这些区别，Custom Editor 特别适合提供读写可视化编辑体验。此外，我找到了 AntV G6 的官方文档，确认了它通常通过 `npm` 安装并在 `div` 容器中渲染，这与 Webview 的 Web 环境非常匹配。

解决机制与技术细节的矛盾

虽然我确认了主要的 UI 机制，但目前的资料对 AntV 在 VS Code 环境下的具体技术细节仍存在信息空白。特别是，我需要深入了解：如何解决 AntV 在 Webview 中的内容安全策略（CSP）问题；在大数据量传输时，如何高效地在 VS Code 宿主和 Webview 之间通过 `postMessage` 传递数据，以避免 UI 卡顿；以及如何确保 AntV 图表能够响应 VS Code 主题变化和 Webview 窗口大小调整，实现响应式布局和暗黑模式的完美切换。此外，一些关于 'Ant' 的搜索结果实际上指向了 Apache Ant 这一构建工具，需要更精确地聚焦于 AntV 的 G2/G6/X6 系列。

下一阶段的行动聚焦

接下来的研究将从“概览”转向“深挖技术细节”。我将重点解决 AntV 特有的集成挑战，包括针对性地搜索关于“VS Code Webview AntV CSP”的配置、G6 图表在 VS Code 扩展中的动态尺寸调整（例如使用 Resize Observer）的最佳实践，以及如何高效处理 Webview 中的大数据传输。我将使用更精确的关键词来过滤掉与 AntV 可视化无关的 ‘Ant’ 结果，从而找到直接针对 AntV 集成问题的代码示例和教程。

![](https://www.gstatic.com/lamda/images/immersives/google_logo_icon_2380fba942c84387f09cf.svg)

 Researching websites 

[blog.trailofbits.comEscaping misconfigured VSCode extensions - The Trail of Bits Blog](https://blog.trailofbits.com/2023/02/21/vscode-extension-escape-vulnerability/)[github.comHelp webview extensions add a Content Security Policy · Issue #79340 · microsoft/vscode](https://github.com/microsoft/vscode/issues/79340)[blog.mattbierner.comWhat I've learned so far while bringing VS Code's Webviews to the web - Matt Bierner](https://blog.mattbierner.com/vscode-webview-web-learnings/)[stackoverflow.comVSCode Webview Content-Security-Policy ticino.blob.core.windows.net - Stack Overflow](https://stackoverflow.com/questions/70618906/vscode-webview-content-security-policy-ticino-blob-core-windows-net)[code.visualstudio.comWebview API | Visual Studio Code Extension API](https://code.visualstudio.com/api/extension-guides/webview)[code.visualstudio.comExtension Capabilities Overview - Visual Studio Code](https://code.visualstudio.com/api/extension-capabilities/overview)[typefox.ioEnhancing communication between extensions and webviews using VS Code Messenger](https://www.typefox.io/blog/vs-code-messenger/)[stackoverflow.comWhy do extensions/WebView impact performance so much? and how to prevent?](https://stackoverflow.com/questions/46804267/why-do-extensions-webview-impact-performance-so-much-and-how-to-prevent)[github.comBetter UI extensibility: retain webviews, provide communication channel · Issue #28263 · microsoft/vscode - GitHub](https://github.com/microsoft/vscode/issues/28263)[developer.mozilla.orgResizeObserver - Web APIs | MDN](https://developer.mozilla.org/en-US/docs/Web/API/ResizeObserver)[g6.antv.antgroup.comOptions | G6 Graph Visualization Framework in JavaScript](https://g6.antv.antgroup.com/en/manual/graph/option)[dev.toQuick guide to Resize Observer - DEV Community](https://dev.to/murashow/quick-guide-to-resize-observer-gam)[github.comAbility to resize graph canvas on the fly · Issue #2558 · antvis/G6 - GitHub](https://github.com/antvis/G6/issues/2558)[yanyanwang93.medium.comProblems in AntV G6: Rendering Residuals | by Yanyan Wang - Medium](https://yanyanwang93.medium.com/problems-in-antv-g6-rendering-residuals-653064744729)[code.visualstudio.comTheme Color | Visual Studio Code Extension API](https://code.visualstudio.com/api/references/theme-color)[eliostruyf.comA code-driven approach to theme your VS Code webview | Elio Struyf](https://www.eliostruyf.com/code-driven-approach-theme-vscode-webview/)[stackoverflow.comDetect light/dark theme programmatically in Visual Studio Code - Stack Overflow](https://stackoverflow.com/questions/37257911/detect-light-dark-theme-programmatically-in-visual-studio-code)[stackoverflow.comvscode extensions - Is it possible to access VS Codes theme properties programatically? Like, can a person use the VS Code API to change a theme color? - Stack Overflow](https://stackoverflow.com/questions/71095465/is-it-possible-to-access-vs-codes-theme-properties-programatically-like-can-a)[code.visualstudio.comUsing React in Visual Studio Code](https://code.visualstudio.com/docs/nodejs/reactjs-tutorial)[g6.antv.antgroup.comDefine Nodes with React | G6 Graph Visualization Framework in JavaScript](https://g6.antv.antgroup.com/en/manual/element/node/react-node/)[g6.antv.visionreact | G6 Graph Visualization Framework in JavaScript](https://g6.antv.vision/en/manual/getting-started/integration/react/)[github.comantvis/G6: A Graph Visualization Framework in JavaScript. - GitHub](https://github.com/antvis/G6)[stackoverflow.comantv/g6 and react. How to update graph? - Stack Overflow](https://stackoverflow.com/questions/67108651/antv-g6-and-react-how-to-update-graph)

新观察到的重要技术细节

通过当前的搜索，我已经获得了将 AntV 嵌入 VS Code Webview 的关键技术拼图。我确认了 Webview API 中使用 `createWebviewPanel` 可以创建自定义可视化，而 Custom Editor 则更适用于提供文件内容的读写可视化编辑体验，例如用 AntV X6 来编辑流程图文件。对于核心的渲染技术，AntV G6 的官方文档清晰地展示了其基于 `npm` 安装并在特定 `div` 容器中渲染的模式，这与 Webview 的 HTML/JS 环境完全兼容。此外，我也明确了 VS Code 扩展开发的基本流程，包括如何使用 Yeoman 脚手架创建 TypeScript 扩展项目，这是集成 AntV 的前提。

明确可视化集成机制

我深入对比了 Webview Panel、Custom Editor 和 Notebook Renderer 的适用场景。**Webview Panel** 是最通用的方法，用于在独立的编辑器标签页中显示自定义 UI 和可视化。**Custom Editor** 特别适用于为特定文件类型（如数据文件或配置）提供 AntV 图表作为可视化编辑器，它能更好地集成 VS Code 的保存、撤销/重做等文件事件。**Notebook Renderer** 则是一个明确的策略，可用于在 Jupyter/Notebook 中渲染 AntV 图表输出，官方 API 文档确认了其对 `text/html` 和自定义 `mimetypes` 的支持。这些发现为选择最合适的 AntV 集成路径提供了清晰的指导。

尚待解决的核心技术空缺

尽管我掌握了基础机制，但仍有几个技术细节需要进一步探究。主要的信息空白在于 AntV 库在 Webview 中的**资源加载**问题，即如何安全且稳定地加载本地的 AntV JavaScript 库文件，而不是依赖可能受限的 CDN。此外，AntV 图表的**主题自适应**也需要一个具体的代码桥接方案，将 VS Code 的 CSS 变量（例如背景色和前景色）准确映射到 AntV 配置所需的 JavaScript/JSON 对象中，以确保 AntV 图表能够完美适配 VS Code 的浅色/深色主题。最后，关于 AntV X6 和 L7 的具体集成案例信息相对稀疏，需要进行针对性补充。

下一步的行动聚焦与计划

为了完善集成策略，我将聚焦于解决上述技术空缺。我计划进行一系列更有针对性的搜索，旨在找到关于 'VS Code webview load local script asWebviewUri' 的最佳实践，确认如何在 Webview 中加载本地资源；同时，搜索 'VS Code webview read css variables in javascript' 以建立主题桥接机制。我也会对 AntV X6 和 L7 进行针对性搜索，以确保提供全面的 AntV 库集成建议。

![](https://www.gstatic.com/lamda/images/immersives/google_logo_icon_2380fba942c84387f09cf.svg)

 Researching websites 

[stackoverflow.comjavascript - vscode extension. 'JS Import' from webview - Stack Overflow](https://stackoverflow.com/questions/63924805/vscode-extension-js-import-from-webview)[github.comWebview unable to load script and CSS resources (401 error); thought I'd followed CORS properly; how to fix? · microsoft vscode-discussions - GitHub](https://github.com/microsoft/vscode-discussions/discussions/472)[stackoverflow.comLoading referenced files from HTML in VSCode Extension Webview - Stack Overflow](https://stackoverflow.com/questions/60737718/loading-referenced-files-from-html-in-vscode-extension-webview)[dev.toVsCode extension using webview and message posting - DEV Community](https://dev.to/coderallan/vscode-extension-using-webview-and-message-posting-5435)[eliostruyf.comA code-driven approach to theme your VS Code webview | Elio Struyf](https://www.eliostruyf.com/code-driven-approach-theme-vscode-webview/)[stackoverflow.comvscode extensions - Is it possible to access VS Codes theme properties programatically? Like, can a person use the VS Code API to change a theme color? - Stack Overflow](https://stackoverflow.com/questions/71095465/is-it-possible-to-access-vs-codes-theme-properties-programatically-like-can-a)[stackoverflow.comVS code webview css variable names for used theme tokenColors - Stack Overflow](https://stackoverflow.com/questions/55877879/vs-code-webview-css-variable-names-for-used-theme-tokencolors)[github.comantvis/X6: JavaScript diagramming library that uses SVG and HTML for rendering.](https://github.com/antvis/X6)[codesandbox.ioantv/x6-react-components examples - CodeSandbox](https://codesandbox.io/examples/package/@antv/x6-react-components)[code.visualstudio.comBundling Extensions - Visual Studio Code](https://code.visualstudio.com/api/working-with-extensions/bundling-extension)[code.visualstudio.comYour First Extension - Visual Studio Code](https://code.visualstudio.com/api/get-started/your-first-extension)[youtube.comANTV X6 JavaScript Diagramming Library: Lets build a workflow editor (Drag and Drop Nodes) - YouTube](https://www.youtube.com/watch?v=EMtcA5z1fAg)[code.visualstudio.comWebviews | Visual Studio Code Extension API](https://code.visualstudio.com/api/ux-guidelines/webviews)[code.visualstudio.comWebview API | Visual Studio Code Extension API](https://code.visualstudio.com/api/extension-guides/webview)[stackoverflow.comEnabling WebGL support for Android WebView - Stack Overflow](https://stackoverflow.com/questions/15395245/enabling-webgl-support-for-android-webview)[blog.mattbierner.comWhat I've learned so far while bringing VS Code's Webviews to the web - Matt Bierner](https://blog.mattbierner.com/vscode-webview-web-learnings/)[reddit.comDoes VSCode support WebGL on linux? - Reddit](https://www.reddit.com/r/vscode/comments/1lhfhfs/does_vscode_support_webgl_on_linux/)[g6.antv.antgroup.comrenderer | G6 Graph Visualization Framework in JavaScript](https://g6.antv.antgroup.com/en/manual/further-reading/renderer)[github.comantvis/G6: A Graph Visualization Framework in JavaScript. - GitHub](https://github.com/antvis/G6)[code.visualstudio.comJupyter Notebooks in VS Code](https://code.visualstudio.com/docs/datascience/jupyter-notebooks)[code.visualstudio.comNotebook API - Visual Studio Code](https://code.visualstudio.com/api/extension-guides/notebook)[youtube.comVS Code Notebooks: A Deep Dive - YouTube](https://www.youtube.com/watch?v=D-AXZZDTQhM)

可视化集成策略的确认

我已通过深入分析确认了在 VS Code 中集成 AntV 的几种主要策略：**Webview Panel** 用于创建独立的自定义视图；**Custom Editor** 特别适用于为特定文件（如流程图数据）提供基于 AntV X6 的可视化编辑；而 **Notebook Renderer** 则是一个高度可行的方案，允许在 Jupyter 等 Notebook 的输出单元格中直接渲染 AntV 图表，其 API 支持自定义 `mimetypes` 和 `text/html`。

关键技术细节的补充完善

在技术实现层面，我获得了几个关键的指导信息：AntV G6 的官方文档确认了其基于 `npm` 安装并在 Web 环境中渲染的基本模式，与 Webview 的技术栈完全匹配。VS Code Webview API 文档明确了 Webview Panel 和 Custom Editor 之间的区别，Custom Editor 在文件事件集成（如保存、撤销/重做）方面具有优势。同时，我也明确了 VS Code 扩展需要进行**捆绑（Bundling）**，以确保兼容 `vscode.dev` 等 Web 环境，并提高加载性能，这对于 AntV 这样的大型库尤为重要。

待解决的性能与边缘问题

尽管主要策略已明确，但仍存在几个需要深入探究的性能和边缘问题。目前最大的信息空白在于 AntV L7（基于 WebGL 的地理空间可视化）在 VS Code Webview 中的**WebGl 支持情况**，特别是在 Electron 环境下的兼容性问题。其次是大数据传输的**性能优化**，我需要确认 `vscode.postMessage` 是否支持 `ArrayBuffer` 等 `transferable` 对象，以实现近乎零复制的数据传输。最后，AntV 库的体积较大，需要研究使用 `esbuild` 或 `webpack` 进行捆绑时，是否有针对 AntV 的**树摇（tree-shaking）优化**最佳实践，以减小扩展体积。

下一步的行动聚焦与计划

我将通过针对性的搜索来解决上述关键问题，旨在为最终的集成方案提供性能和兼容性的保证。我将专注于验证 Webview 对 WebGL 的支持、确定 `postMessage` 的数据传输优化方案，并寻找关于 AntV 库在 VS Code 扩展中进行高效捆绑的实践经验。完成这些额外的技术核查后，我将进行最终的全面总结。

![](https://www.gstatic.com/lamda/images/immersives/google_logo_icon_2380fba942c84387f09cf.svg)

 Researching websites 

[code.visualstudio.comWebviews | Visual Studio Code Extension API](https://code.visualstudio.com/api/ux-guidelines/webviews)[code.visualstudio.comWebview API | Visual Studio Code Extension API](https://code.visualstudio.com/api/extension-guides/webview)[github.comwebgl is null in webview but exist in browserWindow · Issue #24789 - GitHub](https://github.com/electron/electron/issues/24789)[stackoverflow.comProblematic webGL support in electron - node.js - Stack Overflow](https://stackoverflow.com/questions/44405489/problematic-webgl-support-in-electron)[blog.mattbierner.comWhat I've learned so far while bringing VS Code's Webviews to the web - Matt Bierner](https://blog.mattbierner.com/vscode-webview-web-learnings/)[developer.mozilla.orgArrayBuffer - JavaScript - MDN Web Docs](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer)[stackoverflow.comUsing transferable objects from a Web Worker - Stack Overflow](https://stackoverflow.com/questions/16071211/using-transferable-objects-from-a-web-worker)[stackoverflow.comHow to transfer large objects using postMessage of webworker? - Stack Overflow](https://stackoverflow.com/questions/34057127/how-to-transfer-large-objects-using-postmessage-of-webworker)[github.comImprove transfer of ArrayBuffers to and from webviews · Issue #115807 · microsoft/vscode](https://github.com/microsoft/vscode/issues/115807)[github.comDocument what types webview.postMessage supports · Issue #79257 · microsoft/vscode](https://github.com/microsoft/vscode/issues/79257)[esbuild.github.ioAPI - ESBuild](https://esbuild.github.io/api/)[elixirforum.comIs it worth using "esbuild"? - Questions / Help - Elixir Programming Language Forum](https://elixirforum.com/t/is-it-worth-using-esbuild/47881)[stackoverflow.comHow to bundle a VSCode Language Server extension with ESbuild into ONE FILE?](https://stackoverflow.com/questions/75579409/how-to-bundle-a-vscode-language-server-extension-with-esbuild-into-one-file)[code.visualstudio.comBundling Extensions - Visual Studio Code](https://code.visualstudio.com/api/working-with-extensions/bundling-extension)[github.comIssue with native modules (.node) resolving incorrectly in VSCode extension built with esbuild #4154 - GitHub](https://github.com/evanw/esbuild/issues/4154)[github.commicrosoft/vscode-notebook-renderers - GitHub](https://github.com/microsoft/vscode-notebook-renderers)[code.visualstudio.comNotebook API - Visual Studio Code](https://code.visualstudio.com/api/extension-guides/notebook)[code.visualstudio.comJupyter Notebooks in VS Code](https://code.visualstudio.com/docs/datascience/jupyter-notebooks)[code.visualstudio.comPython Interactive window - Visual Studio Code](https://code.visualstudio.com/docs/python/jupyter-support-py)[youtube.comVS Code Notebooks: A Deep Dive - YouTube](https://www.youtube.com/watch?v=D-AXZZDTQhM)[l7.antv.visionQuick Issue - L7](https://l7.antv.vision/en/tutorial/quick_issue/)[github.comIssues · antvis/l7-extensions - GitHub](https://github.com/antvis/l7-extensions/issues)[stackoverflow.comVisual Studio Code extensions stopped working suddenly - Stack Overflow](https://stackoverflow.com/questions/69513649/visual-studio-code-extensions-stopped-working-suddenly)[reddit.comMalicious VSCode extensions with millions of installs discovered : r/programming - Reddit](https://www.reddit.com/r/programming/comments/1dcz9uj/malicious_vscode_extensions_with_millions_of/)[github.comantvis/l7-extensions: A collection of extensions for L7. - GitHub](https://github.com/antvis/l7-extensions)

深入剖析关键技术机制

通过当前的搜索和推理，我确认了将 AntV 集成到 VS Code 的核心机制。我已经明确了三种主要路径：**Webview Panel** 用于独立可视化；**Custom Editor** 用于文件内容的可视化编辑（尤其适用于 AntV X6 等图编辑工具）；以及 **Notebook Renderer**，后者是 AntV 图表在数据科学场景下的理想渲染方案，通过支持 `text/html` 或自定义 MIME 类型实现。这些机制均依赖于在 Webview 中运行 AntV，G6 等库的官方文档也证实了 AntV 的 Web 技术栈与此环境的兼容性。

解决资源加载与性能优化的策略

在解决 Webview 中的技术挑战方面，我获得了关键指导。首先，VS Code 扩展需要进行**捆绑**（Bundling），最好使用 `esbuild` 或 `webpack` 将所有文件合并成一个 Web 友好的文件，这对 AntV 这样的大型库至关重要，它能提高加载性能并确保扩展在 `vscode.dev` 等 Web 环境中正常工作。其次，我确认了扩展开发的基础，即需要遵循 Yeoman 提供的 TypeScript 扩展脚手架来构建项目。此外，虽然搜索结果提供了基础的 AntV GitHub 示例，但它们大多是关于 Ant Design Vue Helper，而不是直接集成 AntV 可视化库的复杂案例，这表明我仍需寻找更具体的可视化代码示例。

信息空缺与下一阶段的行动

目前，我仍然存在几个关键的信息空缺需要填补，以确保最终策略的完整性：1) **WebGL兼容性**：AntV L7（地理空间可视化）依赖 WebGL，我需要确认 VS Code Webview 环境对 WebGL 的实际支持和兼容性，以评估 L7 集成的可行性。2) **高性能数据通信**：我需要找到在扩展宿主和 Webview 之间高效传输大数据（例如 AntV G6 的复杂图数据）的最佳实践，特别是使用 `postMessage` 时是否支持 `ArrayBuffer` 等零复制的传输对象。3) **主题和布局**：我需要找到具体的代码示例或教程，说明如何将 VS Code 的主题变化（暗黑/浅色模式）和窗口大小调整（响应式布局）精确地同步到 AntV 图表的配置中。因此，我将重点搜索这些性能和 UX 相关的具体实现细节。

![](https://www.gstatic.com/lamda/images/immersives/google_logo_icon_2380fba942c84387f09cf.svg)

 Researching websites 

[code.visualstudio.comBundling Extensions - Visual Studio Code](https://code.visualstudio.com/api/working-with-extensions/bundling-extension)[code.visualstudio.comUsing extensions in Visual Studio Code](https://code.visualstudio.com/docs/introvideos/extend)[youtube.comBest VS Code Extensions for Developers | Full Setup Tutorial - YouTube](https://www.youtube.com/watch?v=Z5FQ_5Jpt3g)[syncfusion.comCreating Extensions for Visual Studio Code: A Complete Guide | Syncfusion Blogs](https://www.syncfusion.com/blogs/post/creating-extensions-for-visual-studio-code-a-complete-guide)[code.visualstudio.comWebview API | Visual Studio Code Extension API](https://code.visualstudio.com/api/extension-guides/webview)[code.visualstudio.comCustom Editor API - Visual Studio Code](https://code.visualstudio.com/api/extension-guides/custom-editors)[code.visualstudio.comViews | Visual Studio Code Extension API](https://code.visualstudio.com/api/ux-guidelines/views)[stackoverflow.comVSCode extension: Custom Editor with Webview both on typescript - Stack Overflow](https://stackoverflow.com/questions/71077130/vscode-extension-custom-editor-with-webview-both-on-typescript)[github.comCustomTextEditor vs regular webview · microsoft vscode-discussions - GitHub](https://github.com/microsoft/vscode-discussions/discussions/89)[code.visualstudio.comJupyter Notebooks in VS Code](https://code.visualstudio.com/docs/datascience/jupyter-notebooks)[code.visualstudio.comNotebook API - Visual Studio Code](https://code.visualstudio.com/api/extension-guides/notebook)[code.visualstudio.comPython Interactive window - Visual Studio Code](https://code.visualstudio.com/docs/python/jupyter-support-py)[youtube.comVS Code Notebooks: A Deep Dive - YouTube](https://www.youtube.com/watch?v=D-AXZZDTQhM)[marketplace.visualstudio.comJupyter Notebook Renderers - Visual Studio Marketplace](https://marketplace.visualstudio.com/items?itemName=ms-toolsai.jupyter-renderers)[github.comvueComponent/ant-design-vue-helper: A vscode extension for Ant-Design-Vue - GitHub](https://github.com/vueComponent/ant-design-vue-helper)[github.comantvis/G6: A Graph Visualization Framework in JavaScript. - GitHub](https://github.com/antvis/G6)[github.comNickHeap/vscode-ant: Visual Studio Code Ant Task Runner Extension published on the marketplace - GitHub](https://github.com/NickHeap/vscode-ant)[github.comantfu/starter-vscode: Starter template for VS Code Extension - GitHub](https://github.com/antfu/starter-vscode)[github.comNickHeap2/vscode-ant: Visual Studio Code Ant Task Runner Extension published on the marketplace - GitHub](https://github.com/NickHeap2/vscode-ant)[code.visualstudio.comPerformance Profiling JavaScript - Visual Studio Code](https://code.visualstudio.com/docs/nodejs/profiling)[code.visualstudio.comExtension Capabilities Overview - Visual Studio Code](https://code.visualstudio.com/api/extension-capabilities/overview)[syncfusion.comTop 20 VS Code Extensions Every Developer Should Know in 2025 | Syncfusion Blogs](https://www.syncfusion.com/blogs/post/top-vs-code-extensions)[code.visualstudio.comData Science in VS Code tutorial](https://code.visualstudio.com/docs/datascience/data-science-tutorial)[reddit.comWhy Visual Studio Code is good in terms of performances compared to other Electron softwares? : r/webdev - Reddit](https://www.reddit.com/r/webdev/comments/1hwn0ve/why_visual_studio_code_is_good_in_terms_of/)

可视化集成路径的最终确定

通过当前的搜索，我已经全面确认了在 VS Code 中集成 AntV 的核心策略。这包括三种主要路径：**Webview 面板**（用于通用可视化和自定义 UI）、**Custom Editor**（用于基于 AntV X6 等工具的特定文件格式的可视化编辑，具备 VS Code 文件事件集成能力），以及 **Notebook Renderer**（用于在 Jupyter 等环境的输出单元中渲染 AntV 图表）。这些机制都依赖于在 Webview 中运行 AntV 库，这与 AntV G6 的官方 Web 渲染模式是兼容的。

关键技术与设计原则的总结

我掌握了将 AntV Web 应用程序放入 VS Code 扩展的关键技术指导：必须使用 **Webview API**（如 `createWebviewPanel` 或 Custom Editor）来承载 AntV 图表。为了性能和跨平台兼容性，扩展代码必须进行**捆绑**（Bundling），并且我确认了 VS Code 的 Notebook API 支持通过自定义 `mimetypes` 或 `text/html` 来渲染输出，这为 AntV 作为 Notebook 可视化工具提供了明确的实现途径。此外，我明确了 AntV 库可以像任何 Web 应用一样通过 `npm` 安装和使用。

高性能与边缘问题的解决思路

我正在解决两个最复杂的集成问题：**高性能数据传输**和 **AntV L7 的兼容性**。虽然我没有找到针对 AntV 的具体 `ArrayBuffer` 传输示例，但我推断出使用 `postMessage` 配合 `ArrayBuffer` 是处理大型 AntV 图数据的最佳实践，这避免了数据序列化和复制的开销。对于 L7 依赖的 WebGL 支持，虽然没有找到直接的 AntV L7 在 VS Code Webview 中的教程，但我已经收集到了 Webview 对 WebGL 的一般支持信息，可以推断其基本可行性，但可能需要针对 Electron 环境进行特定的兼容性测试。

研究收尾与信息整合

鉴于我已经收集到了足够多的信息来构建一个详尽的集成策略（包括 UI 机制选择、资源加载、捆绑、主题适配等），剩下的少量信息空缺可以通过现有知识进行推导和补充。因此，我决定进行最后的总结和分析，将所有碎片化的技术细节整合为一份完整的 AntV 集成 VS Code 扩展的综合策略报告。

![](https://www.gstatic.com/lamda/images/immersives/google_logo_icon_2380fba942c84387f09cf.svg)

 Researching websites 

[github.comL7VP is an geospatial intelligent visual analysis and application development tools. - GitHub](https://github.com/antvis/L7VP)[github.commicrosoft/vscode-extension-samples: Sample code illustrating the VS Code extension API.](https://github.com/microsoft/vscode-extension-samples)[github.comvscode-extension · GitHub Topics](https://github.com/topics/vscode-extension)[github.comantvis/l7-extensions: A collection of extensions for L7. - GitHub](https://github.com/antvis/l7-extensions)[g6.antv.antgroup.comrenderer | G6 Graph Visualization Framework in JavaScript](https://g6.antv.antgroup.com/en/manual/further-reading/renderer)[code.visualstudio.comJupyter Notebooks in VS Code](https://code.visualstudio.com/docs/datascience/jupyter-notebooks)[code.visualstudio.comNotebook API - Visual Studio Code](https://code.visualstudio.com/api/extension-guides/notebook)[medium.comG6 4.0: More Progress for Easier Graph Visual Analysis | by Yanyan Wang | AntV | Medium](https://medium.com/antv/g6-4-0-more-progress-for-easier-graph-visual-analysis-9e8e98f099e9)[youtube.comVS Code Notebooks: A Deep Dive - YouTube](https://www.youtube.com/watch?v=D-AXZZDTQhM)[code.visualstudio.comWebview API | Visual Studio Code Extension API](https://code.visualstudio.com/api/extension-guides/webview)[github.comImprove transfer of ArrayBuffers to and from webviews · Issue #115807 · microsoft/vscode](https://github.com/microsoft/vscode/issues/115807)[news.ycombinator.comBreaking the WASM/JS communication performance barrier - Hacker News](https://news.ycombinator.com/item?id=44656516)[stackoverflow.comJavascript ArrayBuffer modification performance - Stack Overflow](https://stackoverflow.com/questions/60630544/javascript-arraybuffer-modification-performance)[stackoverflow.comWhy is the performance gap between array literals and BufferArray so big? - Stack Overflow](https://stackoverflow.com/questions/56203142/why-is-the-performance-gap-between-array-literals-and-bufferarray-so-big)[github.comantvis/G6: A Graph Visualization Framework in JavaScript. - GitHub](https://github.com/antvis/G6)[code.visualstudio.comBundling Extensions - Visual Studio Code](https://code.visualstudio.com/api/working-with-extensions/bundling-extension)[code.visualstudio.comYour First Extension - Visual Studio Code](https://code.visualstudio.com/api/get-started/your-first-extension)[github.comtjx666/vscode-extension-boilerplate - GitHub](https://github.com/tjx666/vscode-extension-boilerplate)[reddit.comI built a VS Code extension to auto-generate boilerplate code : r/vscode - Reddit](https://www.reddit.com/r/vscode/comments/1o8882s/i_built_a_vs_code_extension_to_autogenerate/)

策略的全面确认与支撑技术

我已通过多轮搜索和信息合成，全面确认了将 AntV（包括 G6、X6 等）集成到 VS Code 扩展中的三种主要且可行的策略：**Webview Panel**（用于创建通用、独立的图表视图）、**Custom Editor**（用于提供对文件内容的可视化编辑，例如基于 AntV X6 的流程图文件编辑器），以及 **Notebook Renderer**（用于在 Jupyter 等 Notebook 输出中渲染 AntV 图表）。所有这些策略都基于在 VS Code Webview 环境中运行标准的 AntV Web 组件，而 AntV 官方文档已确认其 G6 等库与 Web 环境的良好兼容性。

解决性能与复杂集成点

我重点关注了大型可视化库集成中的复杂问题，并找到了解决思路。对于高性能数据传输，虽然缺乏 AntV 专有的 `ArrayBuffer` 示例，但我推断出使用 `postMessage` 配合 `ArrayBuffer` 的零复制技术是处理 AntV 复杂、大型图数据的最佳实践。对于 AntV L7 (WebGL) 的兼容性，现有信息表明 VS Code Webview (基于 Electron) 对 WebGL 提供一般支持，这意味着 L7 的集成在技术上是可行的，但需要进行特定环境的兼容性测试。此外，我也找到了 VS Code 扩展脚手架和捆绑（如 `esbuild`）的指南，这是高效集成 AntV 所必需的。

完整的行动蓝图

鉴于我已经收集到了足够的技术细节和策略依据，包括 UI 机制的选择、资源加载方案（本地资源通过 `asWebviewUri`）、通信机制（`postMessage`）、主题适配（CSS 变量）以及性能优化（捆绑和大数据传输），我已经能够构建一个完整、可实施的 AntV VS Code 扩展集成方案。我将对所有收集到的信息进行最终的整理和综合分析，形成一份完整的集成策略报告。

---
**来源**: [https://gemini.google.com/app/cd9f49f16638c877](https://gemini.google.com/app/cd9f49f16638c877)  
**创建时间**: 2025-11-29 08:24:59

