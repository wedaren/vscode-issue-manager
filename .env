# ============================================
# Issue Manager 扩展配置文件
# ============================================
#
# 此文件定义了 VSCode 插件和 Chrome 扩展之间共享的配置
# 这是扩展的默认配置文件，随扩展一起发布
#
# 📁 文件位置：
#   - 开发时：项目根目录
#   - 发布后：扩展安装目录
#
# 🔄 读取方式：
#   - VSCode 插件：通过 dotenv 包读取
#   - Chrome 扩展：通过 WXT/Vite 构建时注入
#
# ⚙️ 技术说明：
#   - 在 wxt.config.ts 中配置了 envPrefix，支持非 VITE_ 前缀
#   - 两边使用相同的变量名，避免重复配置
#   - 支持的前缀：WS_、ENABLE_、PORT_、LOG_、CHROME_
#
# 📝 如何覆盖配置：
#   - 全局：修改 VSCode 设置 (settings.json)
#   - 工作区：修改工作区设置 (.vscode/settings.json)
#   - 配置项前缀：issueManager.chromeIntegration.*

# ============================================
# WebSocket 服务配置
# ============================================

# WebSocket 服务端口
# VSCode 插件将在此端口启动 WebSocket 服务
# Chrome 扩展将连接到此端口
WS_PORT=37895

# WebSocket 服务主机
# 通常使用 localhost 或 127.0.0.1
WS_HOST=localhost

# 端口范围（用于自动发现）
# 当主端口被占用时，系统会在此范围内寻找可用端口
WS_PORT_RANGE_START=37895
WS_PORT_RANGE_END=37899

# ============================================
# 功能开关
# ============================================

# 是否启用端口自动发现
# 启用后，Chrome 扩展会自动尝试连接到端口范围内的 VSCode 实例
ENABLE_PORT_DISCOVERY=true

# 端口发现超时时间（毫秒）
PORT_DISCOVERY_TIMEOUT=1000

# ============================================
# 连接与重试配置
# ============================================

# WebSocket 连接最大重试次数
WS_MAX_RETRIES=3

# 重试延迟（毫秒）
WS_RETRY_DELAY=1000

# ============================================
# 日志配置
# ============================================

# 日志级别 (debug, info, warn, error)
LOG_LEVEL=info

# ============================================
# 开发提示
# ============================================
#
# 开发时修改配置后需要重启：
#   - VSCode: Reload Window (Cmd+R / Ctrl+R)
#   - Chrome: npm run chrome:dev
#
# 不建议直接修改此文件（会影响 Git 状态）
# 推荐通过 VSCode 设置来覆盖配置
