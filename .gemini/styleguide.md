# VS Code 扩展项目编码风格指南

## 使用中文回答

## 项目概述

这是一个 VS Code 扩展项目，用于实现问题管理功能。项目使用 TypeScript 开发，遵循现代 JavaScript/TypeScript 最佳实践。

## 语言和交流规范

- **代码审查语言**: 请使用**简体中文**进行所有代码审查、评论和建议
- **专业术语**: 可以保留英文技术术语，但解释和建议请用中文
- **代码注释**: 项目内的注释使用中文，便于团队理解
- **交流风格**: 使用正式、专业的语调，避免过于随意的表达

## 编码规范

### 命名约定

- **文件名**: 使用 PascalCase 命名类文件，camelCase 命名工具函数文件
- **类名**: 使用 PascalCase（如 `IssueOverviewProvider`）
- **方法和变量**: 使用 camelCase（如 `createIssue`, `focusedManager`）
- **常量**: 使用 UPPER_SNAKE_CASE（如 `DEFAULT_CONFIG`）
- **接口**: 以 `I` 开头（如 `ITreeNode`）

### 代码组织

- **目录结构**: 按功能模块组织代码（`data/`, `views/`, `utils/`, `llm/`）
- **导出**: 优先使用命名导出而非默认导出
- **依赖注入**: 使用构造函数注入依赖

### TypeScript 特定规范

- **类型安全**: 严格使用 TypeScript 类型，避免 `any` 类型
- **接口定义**: 为所有数据结构定义明确的接口
- **泛型**: 在适当时使用泛型提高代码复用性
- **可选属性**: 正确使用 `?` 标记可选属性

### VS Code API 使用

- **资源管理**: 正确实现 `Disposable` 接口，及时释放资源
- **异步操作**: 使用 async/await 而非 Promise.then()
- **错误处理**: 提供用户友好的错误信息
- **配置管理**: 使用 VS Code 配置 API 管理用户设置

### 文档和注释

- **JSDoc**: 为公共 API 提供完整的 JSDoc 注释
- **中文注释**: 代码注释使用中文，方便团队理解
- **TODO**: 使用 `// TODO:` 标记待完成功能

### 性能考虑

- **懒加载**: 大型数据结构使用懒加载
- **缓存**: 合理使用缓存避免重复计算
- **防抖**: 对用户输入和文件监听事件进行防抖处理

### 安全性

- **路径验证**: 严格验证文件路径，防止路径遍历攻击
- **输入验证**: 对所有外部输入进行验证
- **权限检查**: 检查文件读写权限

### 错误处理

- **异常捕获**: 适当使用 try-catch 处理可能的异常
- **用户反馈**: 向用户提供清晰的错误信息
- **日志记录**: 记录重要操作和错误信息

## 项目特定要求

### 数据模型

- 所有数据模型都应有对应的 TypeScript 接口定义
- 使用版本化的数据结构（如 `tree.json` 中的 version 字段）
- 实现数据验证和迁移逻辑

### 视图提供者

- 实现 `TreeDataProvider` 接口
- 正确处理拖放操作
- 实现数据变更通知机制

### 配置管理

- 所有配置项都应在 `package.json` 中声明
- 提供合理的默认值
- 实现配置变更监听

请在代码审查时特别关注以上规范的遵循情况。
